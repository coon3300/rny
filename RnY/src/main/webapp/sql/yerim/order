
--주문테이블 생성
create table tbl_order(
    order_no varchar2(30), --주문번호(*pk)
    user_no varchar2(30) not null, --회원고유번호(*fk)
    item_no number(30), --상품고유번호(*fk)
    order_date date default sysdate, --주문날짜
    order_cnt number(20) -- 주문갯수
    );
    
alter table tbl_order add constraint pk_order_no primary key (order_no); --프라이머리키
alter table tbl_order add CONSTRAINT fk_order_user_no FOREIGN KEY(user_no) REFERENCES rny_member(user_no);
alter table tbl_order add CONSTRAINT fk_order_item_no FOREIGN KEY(item_no) REFERENCES tbl_item(item_no);



insert into tbl_order(order_no, user_no, item_no, order_cnt)
values(seq_ord.nextval, 'A101', 1, 3);
insert into tbl_order(order_no, user_no, item_no, order_cnt)
values(seq_ord.nextval, 'A101', 2, 1);
insert into tbl_order(order_no, user_no, item_no, order_cnt)
values(seq_ord.nextval, 'A101', 3, 10);
insert into tbl_order(order_no, user_no, item_no, order_cnt)
values(seq_ord.nextval, 'A101', 4, 3);

commit;




--위시리스트테이블 생성

create table tbl_wish(
    wish_no varchar2(30),
    user_no varchar2(30),
    item_no number(30));

--위시리스트테이블 키생성
alter table tbl_wish add constraint pk_wish_no primary key (wish_no); 
alter table tbl_wish add CONSTRAINT fk_wish_user_no FOREIGN KEY(user_no) REFERENCES rny_member(user_no);
alter table tbl_wish add CONSTRAINT fk_item_no FOREIGN KEY(item_no) REFERENCES tbl_item(item_no);

--위시리스트테이블 시퀀스생성
create sequence seq_wish;

--위시리스트테이블 데이터삽입
insert into tbl_wish(wish_no, user_no, item_no)
values(seq_wish.nextval, '5', 53);
insert into tbl_wish(wish_no, user_no, item_no)
values(seq_wish.nextval, '3', 10);
insert into tbl_wish(wish_no, user_no, item_no)
values(seq_wish.nextval, '2', 12);
insert into tbl_wish(wish_no, user_no, item_no)
values(seq_wish.nextval, '1', 14);


commit;





--장바구니 테이블생성
CREATE TABLE tbl_cart (
	cart_no	VARCHAR2(30),
	user_no	varchar2(30)NOT NULL,
	item_no	number(30)	NOT NULL,
    cart_cnt number(30) default 1
);

--장바구니 테이블 키생성
alter table tbl_cart add constraint pk_cart_no primary key (cart_no); 
alter table tbl_cart add CONSTRAINT fk_cart_user_no FOREIGN KEY(user_no) REFERENCES rny_member(user_no);
alter table tbl_cart add CONSTRAINT fk_cart_item_no FOREIGN KEY(item_no) REFERENCES tbl_item(item_no);

--장바구니 테이블 시퀀스생성
create sequence seq_cart;

--장바구니 테이블 데이터삽입
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 26, 5);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 40, 3);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 44, 2);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 57, 1);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 20, 3);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 21, 6);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 22, 10);
insert into tbl_cart(cart_no, user_no, item_no, cart_cnt)
values (seq_cart.nextval, 'A101', 23, 1);

commit;