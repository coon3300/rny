<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.rny.mapper.ReviewMapper"> <!--클래스 -->
	<select id="reviewList" parameterType="co.rny.vo.ReviewVO">
		select b.*
		from(select rownum rn,a.*
		from (select *
		from tbl_review
		order
		by review_num desc ) a ) b
		where b.rn > (#{page} -1) * 6
    <![CDATA[
    and b.rn <= (#{page} *6 )
    ]]>
	</select>
	<select id="totalCnt" parameterType="co.rny.vo.ReviewVO">
		select count(1)
		from
		tbl_review
	</select>

	<update id="reviewLike" parameterType="int">
		UPDATE tbl_review
		set
		review_like = review_like + 1
		where review_num = ${reviewNum}
	</update>

	<select id="selectReview" resultType="co.rny.vo.ReviewVO"
		parameterType="int">
		select *
		from tbl_review
		where review_num = #{reviewNum}
	</select>

	<!-- 리뷰 목록 상품상세 출력 -->
	<select id="selectReviewDetail" parameterType="int"
		resultType="co.rny.vo.ReviewVO">
		SELECT *
		from tbl_review
		WHERE item_no = #{itemNo}
	</select>

</mapper>
