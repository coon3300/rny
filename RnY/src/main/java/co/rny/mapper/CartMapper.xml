<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.rny.mapper.CartMapper">

<select id="cart" resultType="co.rny.vo.CartVO">
	select *
	from tbl_cart c JOIN rny_member m
	ON c.user_no = m.user_no
	JOIN tbl_item i
	ON c.item_no = i.item_no
	where user_id = #{id}
	</select>
	
	<delete id="deleteCart" parameterType="int">
		delete from tbl_cart
		where cart_no = #{cartNo}
	</delete>
	
	<insert id="plusCart" parameterType="co.rny.vo.MemberVO">
	insert into tbl_cart(cart_no, user_no, item_no)
	values(seq_cart.nextval, #{userNo}, #{itemNo} )
	</insert>
	
	<insert id="insertCart" parameterType="co.rny.vo.CartVO">
		INSERT INTO cart (user_no, item_no, cart_cnt)
		VALUES (#{userNo}, #{itemNo}, #{cartCnt})
	</insert>

	<update id="updateCartCount" parameterType="co.rny.vo.CartVO">
		UPDATE cart
		SET cart_cnt = #{cartCnt}
		WHERE user_no = #{userNo} AND item_no = #{itemNo}
	</update>

</mapper>